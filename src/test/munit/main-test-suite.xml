<?xml version="1.0" encoding="UTF-8"?>

<mule xmlns:validation="http://www.mulesoft.org/schema/mule/validation"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:munit="http://www.mulesoft.org/schema/mule/munit"
	xmlns:munit-tools="http://www.mulesoft.org/schema/mule/munit-tools" xmlns="http://www.mulesoft.org/schema/mule/core"
	xmlns:doc="http://www.mulesoft.org/schema/mule/documentation" xsi:schemaLocation="
		http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd
		http://www.mulesoft.org/schema/mule/munit http://www.mulesoft.org/schema/mule/munit/current/mule-munit.xsd
		http://www.mulesoft.org/schema/mule/munit-tools  http://www.mulesoft.org/schema/mule/munit-tools/current/mule-munit-tools.xsd
http://www.mulesoft.org/schema/mule/validation http://www.mulesoft.org/schema/mule/validation/current/mule-validation.xsd">
	<munit:config name="main-test-suite.xml" />
	<munit:test name="main-test-suite-retrieve-hashtags-by-populatiryTest" doc:id="59ec5a7a-aea3-4bbd-8301-a8830af417a6" description="Test">
		<munit:behavior >
			<munit-tools:mock-when doc:name="Mock when" doc:id="6fa710bb-8bea-42da-89a9-5bbc77a0fefc" processor="http:request">
				<munit-tools:with-attributes >
					<munit-tools:with-attribute whereValue="GET" attributeName="method" />
					<munit-tools:with-attribute whereValue="twitter search request" attributeName="doc:name" />
					<munit-tools:with-attribute whereValue="a4a93852-5c1e-4df4-a3bc-534d64a9630d" attributeName="doc:id" />
					<munit-tools:with-attribute whereValue="application/json" attributeName="outputMimeType" />
					<munit-tools:with-attribute whereValue="httpTwitterRequestConfiguration" attributeName="config-ref" />
					<munit-tools:with-attribute whereValue="${https.twitter.searchPath}" attributeName="path" />
				</munit-tools:with-attributes>
				<munit-tools:then-return >
					<munit-tools:payload value='#[output application/json --- &#10;{&#10;    "statuses": [&#10;        {&#10;            "created_at": "Sat Aug 07 22:34:55 +0000 2021",&#10;            "id": 1424137003172511744,&#10;            "id_str": "1424137003172511744",&#10;            "text": "اهداء لمتابعيني 5 ساعات Apple الاصدار الجديد وسوف يتم السحب  في #اليوم_الوطني \nباذن الله . \n\nبالتوفيق للجميع .. https://t.co/8PfZ2H5tRf",&#10;            "truncated": false,&#10;            "entities": {&#10;                "hashtags": [&#10;                    {&#10;                        "text": "اليوم_الوطني",&#10;                        "indices": [&#10;                            64,&#10;                            77&#10;                        ]&#10;                    }&#10;                ],&#10;                "symbols": [],&#10;                "user_mentions": [],&#10;                "urls": [],&#10;                "media": [&#10;                    {&#10;                        "id": 1424136996440756230,&#10;                        "id_str": "1424136996440756230",&#10;                        "indices": [&#10;                            112,&#10;                            135&#10;                        ],&#10;                        "media_url": "http://pbs.twimg.com/media/E8ONDYhX0AYuObx.jpg",&#10;                        "media_url_https": "https://pbs.twimg.com/media/E8ONDYhX0AYuObx.jpg",&#10;                        "url": "https://t.co/8PfZ2H5tRf",&#10;                        "display_url": "pic.twitter.com/8PfZ2H5tRf",&#10;                        "expanded_url": "https://twitter.com/ok_000/status/1424137003172511744/photo/1",&#10;                        "type": "photo",&#10;                        "sizes": {&#10;                            "small": {&#10;                                "w": 680,&#10;                                "h": 383,&#10;                                "resize": "fit"&#10;                            },&#10;                            "thumb": {&#10;                                "w": 150,&#10;                                "h": 150,&#10;                                "resize": "crop"&#10;                            },&#10;                            "medium": {&#10;                                "w": 912,&#10;                                "h": 513,&#10;                                "resize": "fit"&#10;                            },&#10;                            "large": {&#10;                                "w": 912,&#10;                                "h": 513,&#10;                                "resize": "fit"&#10;                            }&#10;                        }&#10;                    }&#10;                ]&#10;            },&#10;            "extended_entities": {&#10;                "media": [&#10;                    {&#10;                        "id": 1424136996440756230,&#10;                        "id_str": "1424136996440756230",&#10;                        "indices": [&#10;                            112,&#10;                            135&#10;                        ],&#10;                        "media_url": "http://pbs.twimg.com/media/E8ONDYhX0AYuObx.jpg",&#10;                        "media_url_https": "https://pbs.twimg.com/media/E8ONDYhX0AYuObx.jpg",&#10;                        "url": "https://t.co/8PfZ2H5tRf",&#10;                        "display_url": "pic.twitter.com/8PfZ2H5tRf",&#10;                        "expanded_url": "https://twitter.com/ok_000/status/1424137003172511744/photo/1",&#10;                        "type": "photo",&#10;                        "sizes": {&#10;                            "small": {&#10;                                "w": 680,&#10;                                "h": 383,&#10;                                "resize": "fit"&#10;                            },&#10;                            "thumb": {&#10;                                "w": 150,&#10;                                "h": 150,&#10;                                "resize": "crop"&#10;                            },&#10;                            "medium": {&#10;                                "w": 912,&#10;                                "h": 513,&#10;                                "resize": "fit"&#10;                            },&#10;                            "large": {&#10;                                "w": 912,&#10;                                "h": 513,&#10;                                "resize": "fit"&#10;                            }&#10;                        }&#10;                    }&#10;                ]&#10;            },&#10;            "metadata": {&#10;                "result_type": "popular",&#10;                "iso_language_code": "ar"&#10;            },&#10;            "source": "&lt;a href=\"http://twitter.com/download/iphone\" rel=\"nofollow\"&gt;Twitter for iPhone&lt;/a&gt;",&#10;            "in_reply_to_status_id": null,&#10;            "in_reply_to_status_id_str": null,&#10;            "in_reply_to_user_id": null,&#10;            "in_reply_to_user_id_str": null,&#10;            "in_reply_to_screen_name": null,&#10;            "user": {&#10;                "id": 418238041,&#10;                "id_str": "418238041",&#10;                "name": "سامي بن جدوع | SAMI Bin JADOUA",&#10;                "screen_name": "ok_000",&#10;                "location": "",&#10;                "description": "",&#10;                "url": null,&#10;                "entities": {&#10;                    "description": {&#10;                        "urls": []&#10;                    }&#10;                },&#10;                "protected": false,&#10;                "followers_count": 76628,&#10;                "friends_count": 845,&#10;                "listed_count": 217,&#10;                "created_at": "Mon Nov 21 22:47:41 +0000 2011",&#10;                "favourites_count": 4,&#10;                "utc_offset": null,&#10;                "time_zone": null,&#10;                "geo_enabled": true,&#10;                "verified": true,&#10;                "statuses_count": 68859,&#10;                "lang": null,&#10;                "contributors_enabled": false,&#10;                "is_translator": false,&#10;                "is_translation_enabled": false,&#10;                "profile_background_color": "C0DEED",&#10;                "profile_background_image_url": "http://abs.twimg.com/images/themes/theme1/bg.png",&#10;                "profile_background_image_url_https": "https://abs.twimg.com/images/themes/theme1/bg.png",&#10;                "profile_background_tile": false,&#10;                "profile_image_url": "http://pbs.twimg.com/profile_images/1410198201055993860/9xlyJcKs_normal.jpg",&#10;                "profile_image_url_https": "https://pbs.twimg.com/profile_images/1410198201055993860/9xlyJcKs_normal.jpg",&#10;                "profile_banner_url": "https://pbs.twimg.com/profile_banners/418238041/1596881689",&#10;                "profile_link_color": "1DA1F2",&#10;                "profile_sidebar_border_color": "C0DEED",&#10;                "profile_sidebar_fill_color": "DDEEF6",&#10;                "profile_text_color": "333333",&#10;                "profile_use_background_image": true,&#10;                "has_extended_profile": true,&#10;                "default_profile": true,&#10;                "default_profile_image": false,&#10;                "following": null,&#10;                "follow_request_sent": null,&#10;                "notifications": null,&#10;                "translator_type": "none",&#10;                "withheld_in_countries": []&#10;            },&#10;            "geo": null,&#10;            "coordinates": null,&#10;            "place": null,&#10;            "contributors": null,&#10;            "is_quote_status": false,&#10;            "retweet_count": 3389,&#10;            "favorite_count": 1671,&#10;            "favorited": false,&#10;            "retweeted": false,&#10;            "possibly_sensitive": false,&#10;            "lang": "ar"&#10;        }&#10;    ],&#10;    "search_metadata": {&#10;        "completed_in": 0.015,&#10;        "max_id": 0,&#10;        "max_id_str": "0",&#10;        "next_results": "?max_id=1424137003172511743&amp;q=apple&amp;count=2&amp;include_entities=1&amp;result_type=popular",&#10;        "query": "apple",&#10;        "count": 2,&#10;        "since_id": 0,&#10;        "since_id_str": "0"&#10;    }&#10;}&#10;]&#10;   ' mediaType="application/json" />
				</munit-tools:then-return>
			</munit-tools:mock-when>
		</munit:behavior>
		<munit:execution >
			<flow-ref doc:name="Flow-ref to retrieve-hashtags-by-populatiry" doc:id="2b7d2697-32c7-4a57-bd23-ba29e078b5cd" name="retrieve-hashtags-by-populatiry"/>
		</munit:execution>
		<munit:validation >
			<validation:is-not-null doc:id="9d9d5597-30d0-4375-8f16-b5561e60f2ce" value="#[payload]"/>
		</munit:validation>
	</munit:test>


</mule>
